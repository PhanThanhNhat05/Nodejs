extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
block main
    h1 Danh Sách Sản Phẩm Quản Trị Viên

    .card.mb-3
        .card-header Bộ lọc và Tìm kiếm
        .card-body
            .row
                .col-6
                    +filter-status(filterStatus)

                .col-6
                    +search(keyword)
    .admin-products
        table.table-admin
            thead
                tr
                    th.stt STT
                    th.thumb Hình ảnh
                    th.title Tiêu đề
                    th.price Giá
                    th.status Trạng thái
                    th.actions Hành động
            tbody
                if !products || products.length === 0
                    tr
                        td(colspan='6') Chưa có sản phẩm
                else
                    each product, idx in products
                        tr
                            td.stt #{idx + 1}
                            td
                                img(src=product.thumbnail, alt=product.title, width='100px', height='auto')
                            td #{product.title}
                            td #{product.price}$
                            td
                                if product.status === 'active'
                                    a(href='#', class='badge badge-success') Hoạt động
                                else
                                    a(href='#', class='badge badge-danger') Dừng hoạt động
                            td
                                a(href=`/admin/products/edit/${product._id}`, class='btn btn-warning btn-sm') Sửa
                                a(href=`/admin/products/delete/${product._id}`, class='btn btn-danger btn-sm') Xóa
    nav
    ul(class="pagination")
        - if (pagination.currentPage > 1) 
            li(class="page-item")
                button(class="page-link" button-pagination=`${pagination.currentPage - 1}`) Trang trước

        - for (var i = 1; i <= pagination.totalPage; i++)
            li(class=`page-item ${i === pagination.currentPage ? 'active' : ''}`)
                button(
                    class="page-link"
                    button-pagination=`${i}`
                ) #{i}


        - if (pagination.currentPage < pagination.totalPage)
            li(class="page-item")
                button(class="page-link" button-pagination=`${pagination.currentPage + 1}`) Kế tiếp
